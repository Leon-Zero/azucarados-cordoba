<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" id="form-img">
  <div class="form-container">
    <h2>Registrarse como ADMINISTRADOR</h2>

    <!-- Nombre -->
    <div class="input-wrap">
      <input type="text" formControlName="name" id="name" placeholder=" " />
      <label for="name">Nombre y Apellido</label>

      @if (name.invalid && (name.dirty || name.touched)) {
        <p class="error">
          @if (name.errors?.['required']) { El nombre es obligatorio. }
          @if (name.errors?.['minlength']) { Mínimo 6 caracteres. }
        </p>
      }
    </div>

    <!-- Usuario -->
    <div class="input-wrap">
      <input type="text" formControlName="username" id="username" placeholder=" " />
      <label for="username">Usuario</label>

      @if (username.invalid && (username.dirty || username.touched)) {
        <p class="error">
          @if (username.errors?.['required']) { El usuario es obligatorio. }
          @if (username.errors?.['minlength']) { Mínimo 4 caracteres. }
        </p>
      }
    </div>

    <!-- Email -->
    <div class="input-wrap">
      <input type="email" formControlName="email" id="email" placeholder=" " />
      <label for="email">Email</label>

      @if (email.invalid && (email.dirty || email.touched)) {
        <p class="error">
          @if (email.errors?.['required']) { El email es obligatorio. }
          @if (email.errors?.['email']) { Email inválido. }
        </p>
      }
    </div>

    <!-- Admin Secret -->
    <div class="input-wrap">
      <input
         [type]="showSecret() ? 'text' : 'password'"
        formControlName="adminSecret"
        id="adminSecret"
        placeholder=" "
      />
      <label for="adminSecret">Clave Secreta de Administrador</label>

      <button
        type="button"
        class="toggle-password"
        (click)="showSecret.set(!showSecret())"
      >
      secret boton
        <span class="eye" [class.open]="showSecret()"></span>
      </button>

      @if (adminSecret.invalid && (adminSecret.dirty || adminSecret.touched)) {
        <p class="error">
          @if (adminSecret.errors?.['required']) { La clave admin es obligatoria. }
          @if (adminSecret.errors?.['minlength']) { Mínimo 8 caracteres. }
        </p>
      }
    </div>

    <!-- Password -->
    <div class="input-wrap password-wrap">
      <input
        [type]="showPassword() ? 'text' : 'password'"
        formControlName="password"
        id="password"
        placeholder=" "
      />
      <label for="password">Contraseña</label>

      <button
        type="button"
        class="toggle-password"
        (click)="showPassword.set(!showPassword())"
      >
      otro boton
        <span class="eye" [class.open]="showPassword()"></span>
      </button>

      @if (password.invalid && (password.dirty || password.touched)) {
        <p class="error">
          @if (password.errors?.['required']) { La contraseña es obligatoria. }
          @if (password.errors?.['minlength']) { Mínimo 8 caracteres. }
        </p>
      }
    </div>

    <!-- Repetir contraseña -->
    <div class="input-wrap password-wrap">
      <input
        [type]="showRepeatPassword() ? 'text' : 'password'"
        formControlName="repeatPassword"
        id="repeatPassword"
        placeholder=" "
      />
      <label for="repeatPassword">Repetir contraseña</label>

      <button
        type="button"
        class="toggle-password"
        (click)="showRepeatPassword.set(!showRepeatPassword())"
      >texto boton
        <span class="eye" [class.open]="showRepeatPassword()"></span>
      </button>

      @if (repeatPassword.invalid && (repeatPassword.dirty || repeatPassword.touched)) {
        <p class="error">
          @if (repeatPassword.errors?.['required']) { Debes repetir la contraseña. }
          @if (registerForm.errors?.['passwordMismatch']) { Las contraseñas no coinciden. }
        </p>
      }
    </div>

    <app-btn
      [size]="'large'"
      type="submit"
      [disabled]="registerForm.invalid"
    >
      Crear cuenta Administrador
    </app-btn>
  </div>
</form>
